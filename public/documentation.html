<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOCUMENTATION</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 2rem;
      }
      h1,
      h2,
      h3 {
        color: #333;
      }
      table {
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 2rem;
      }
      th,
      td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: left;
      }
      th {
        background-color: #f4f4f4;
      }
      code,
      pre {
        background: #f9f9f9;
        padding: 5px;
        border-radius: 4px;
        display: block;
      }
    </style>
  </head>
  <body>
    <h1>üìò myFlix API Documentation</h1>
    <p>
      I am creating an app called myFlix where I build the server-side component
      of a movies web application. The web application will provide users with
      access to information about different movies, directors, and genres. Users
      will be able to sign up, update their personal information, and create a
      list of their favorite movies
    </p>

    <!-- Return a list of ALL movies to the user;

    Return data (description, genre, director, image URL, whether it‚Äôs featured or not) about a single movie by title to the user;

  Return data about a genre (description) by name/title (e.g., ‚ÄúThriller‚Äù);

  Return data about a director (bio, birth year, death year) by name;

  Allow new users to register;

  Allow users to update their user info (username);

   users to add a movie to their list of favorites (showing only a text that a movie has been added‚Äîmore on this later);

  Allow users to remove a movie from their list of favorites (showing only a text that a movie has been removed‚Äîmore on this later);

  Allow existing users to deregister (showing only a text that a user email has been removed‚Äîmore on this later). -->
    <h2>üì¶ Movie Endpoints</h2>

    <h3>GET /movies</h3>
    <p><strong>Description:</strong> Returns a list of all movies.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/movies</code></p>
    <p><strong>Query Parameters:</strong> None</p>
    <p><strong>Request Body:</strong> N/A</p>
    <p><strong>Response:</strong></p>
    <pre><code>[
  {
    "Ranking": "1",
    "Title": "Nickel Boys",
    "Year": 2024,
    "Genre": { "Name": "Drama", "Description": "..." },
    "Director": { "Name": "RaMell Ross", "Birth": "1977-01-01", "Bio": "..." }
  },
  ...
]</code></pre>

    <h3>GET /movies/:title</h3>
    <p><strong>Description:</strong> Returns a movie by title.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/movies/:title</code></p>
    <p>
      <strong>Query Parameters:</strong> <code>title</code> ‚Äì the movie title
    </p>
    <p><strong>Response:</strong> Same format as single movie object above.</p>

    <h3>GET /movies/genre/:genreName</h3>
    <p><strong>Description:</strong> Returns details about a genre.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/movies/genre/:genreName</code></p>
    <p><strong>Query Parameters:</strong> <code>genreName</code></p>
    <p><strong>Response:</strong></p>
    <pre><code>{
  "Name": "Drama",
  "Description": "..."
}</code></pre>

    <h3>GET /movies/directors/:directorName</h3>
    <p><strong>Description:</strong> Returns information about a director.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/movies/directors/:directorName</code></p>
    <p><strong>Query Parameters:</strong> <code>directorName</code></p>
    <p><strong>Response:</strong></p>
    <pre><code>{
  "Name": "Sean Baker",
  "Birth": "1971-02-26",
  "Bio": "..."
}</code></pre>

    <h2>üë§ User Endpoints</h2>

    <h3>GET /users</h3>
    <p><strong>Description:</strong> Returns all users.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>URL:</strong> <code>/users</code></p>
    <p><strong>Response:</strong></p>
    <pre><code>[
  {
    "_id": "64f3c8f2...",
    "Username": "John",
    "Email": "john@example.com",
    "Birthday": "1990-01-01T00:00:00.000Z",
    "favoriteMovies": []
  },
  ...
]</code></pre>

    <h3>POST /users</h3>

    <p><strong>Description:</strong> Creates a new user.</p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>Request Body Example:</strong></p>
    <pre><code>{
   "_id": "64f3c8f2...", 
   "Username": "Alice",
   "Email": "alice@example.com", 
   "Birthday": "1995-05-20T00:00:00.000Z", 
   "FavoriteMovies": []
}</code></pre>

    <p><strong>Response:</strong> Created user object with ID</p>

    <h3>PUT /users/:Username</h3>
    <p><strong>Description:</strong> Updates an existing user's information.</p>
    <p><strong>Method:</strong> PUT</p>
    <p><strong>URL:</strong> <code>/users/:Username</code></p>
    <p><strong>Request Body Example:</strong></p>
    <pre><code>{ 
      "Username": "NewName", "Password": "NewPass123", 
      "Email": "new@email.com", 
      "Birthday":"1992-03-15" }
    </code></pre>

    <p><strong>Response Example:</strong></p>
    <pre><code>{ 
      "_id":"64f3c8f2...", 
      "Username": "NewName", 
      "Email": "new@email.com", 
      "Birthday": "1992-03-15T00:00:00.000Z",
      "FavoriteMovies": [] 
}</code></pre>
    
    <h3>POST /users/:Username/movies/:MovieID</h3>
    <p><strong>Description:</strong> Adds a movie to a user's favorites.</p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>URL:</strong> <code>/ users/:Username/movies/:MovieID</code></p>
    <p><strong>Response Example:</strong></p>
    <pre><code>{ 
      "_id": "64f3c8f2...", 
      "Username": "John", 
      "FavoriteMovies": ["64f3a7b1..."] 
    }</code></pre>

    <h3>DELETE /users/:Username/movies/:MovieID</h3>
    <p>
      <strong>Description:</strong> Removes a movie from a user's favorites.
    </p>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>URL:</strong> <code>/ users/:Username/movies/:MovieID</code></p>
    <p><strong>Response Example:</strong></p>
    <pre><code>{ 
      "_id": "64f3c8f2...", 
      "Username": "John", 
      "FavoriteMovies": [] }</code></pre>

    <h3>DELETE /users/:Username</h3>
    <p>
      <strong>Description:</strong> Deregisters (deletes) a user by username.
    </p>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>URL:</strong> <code>/ users/:Username</code></p>
    <p><strong>Response Example:</strong></p>
    <pre><code>John was deleted.</code></pre>

    <h2>‚ö†Ô∏è Error Handling</h2>
    <p>All invalid requests return:</p>
    <pre><code>Status: 404
Message: "There is no such [resource]"</code></pre>

    <p>Server errors return:</p>
    <pre><code>Status: 500
Message: "Uh oh.. Something broke!"</code></pre>
  </body>
</html>
